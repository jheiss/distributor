<!-- See README.distributor.conf for explanations of the meanings of
     each of these settings. -->

<distributor
	bindaddr="0.0.0.0"
	port="38900"
	algorithm="roundrobin"
	terminate_on_disable="yes"
	connection_timeout="2000"
	service_type="http">

	<target_group order="0">
		<target hostname="server1.example.com" port="389"/>
		<target hostname="server2.example.com" port="389"/>
	</target_group>

	<log type="console" level="info"/>
	<log type="file" filename="/var/log/distributor.log" level="all"/>

	<test_parameters
		service_type="ldap"
		frequency="60000"
		timeout="5000"
		ssl_type="starttls"
		ssl_keystore="cacert.keystore"
		auth_type="none"
		sasl_mechanism="gssapi"
		auth_principal="username"
		auth_credential="password">
		<query dn="uid=jheiss,ou=people,dc=example,dc=com">
			<required_attribute name="objectClass"/>
			<required_attribute name="uid" value="jheiss"/>
		</query>
	</test_parameters>

	<test_parameters
		service_type="http"
		frequency="60000"
		timeout="5000"
		user_agent="Mozilla/5.0"
		use_ssl="no"
		ssl_keystore="cacert.keystore"
		auth_type="none"
		auth_principal="username"
		auth_credential="password">
		<get path="/index.html">
			<response_code value="200"/>
			<content_type value="text/html"/>
			<document_text value="Welcome to XYZ Corp"/>
		</get>
	</test_parameters>

	<test_parameters
		service_type="script"
		frequency="60000"
		timeout="5000"
		script="/path/to/test/script" />

	<!-- These can be ignored unless you're adding a new service type -->
	<type_mapping service_type="ldap" class="oss.distributor.LDAPServiceTest"/>
	<type_mapping service_type="http" class="oss.distributor.HTTPServiceTest"/>
	<type_mapping service_type="script" class="oss.distributor.ScriptServiceTest"/>
</distributor>

